# 网关

## 一 网关主要有哪些功能？

1. 动态路由转发，加载请求路径与服务的映射关系，同时只转发外部请求，服务之间的请求不走网关
2. 授权认证，接口请求权限校验
3. 灰度发布，控制每个服务的访问流量，
4. 性能监控，监控每个接口的耗时、成功率、QPS
5. 系统日志，记录接口请求，响应日志
6. 限流熔断，控制接口访问QPS



## 二 网关的技术选型有哪些？

| 网关类型  | 描述                                                         | 使用情况       |
| --------- | ------------------------------------------------------------ | -------------- |
| Kong      | Nginx中运行的Lua应用程序                                     |                |
| Zuul      | Spring Cloud中网关组件，功能较为简单，灰度发布、限流、动态路由需要二次开发 | Spring Cloud   |
| Nginx+Lua | 基于Lua实现类似Kong的网关                                    |                |
| 自研      | 自研实现网关功能，基于Netty或者Nginx+Lua                     | 有自研能力大厂 |

简单系统可以不使用网关，直接在Nginx中配置路由至那些设备上，进行反向代理和负载均衡。

